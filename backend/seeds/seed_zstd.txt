Let $X \in \{0,1,\dots,T-1\}$ have pmf $p$, and partition the domain into $k$ bins
$B_1,\dots,B_k$ such that $\Pr[X \in B_i] \approx 1/k$ (equal-probability bins).
Encode a sample $x$ by (i) the bin index $I$ with an optimal entropy coder,
and (ii) an intra-bin offset using a simple model (e.g., uniform over $B_I$).
If $p$ is piecewise-monotone with $s$ monotone pieces, then for $k > 2s$ the
expected codelength $\Hhat$ satisfies
$$
\Hhat \;\le\; \Htrue(X) \;+\; \frac{\log_2\!\big(\tfrac{T}{T-1}\big)}{\,k-2s\,}.
$$
In particular, $\Hhat - \Htrue(X) = O(1/k)$.